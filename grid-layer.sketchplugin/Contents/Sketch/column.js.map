{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/column.js","webpack://exports/./src/main.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/dom\"","webpack://exports/external \"sketch/ui\""],"names":["Shape","require","UI","document","sketch","getSelectedDocument","Group","selectedLayers","Main","main","forEach","item","gutterXList","calGutterX","num","val","gutterAmount","parseInt","colAmount","totalWidth","gutterWidth","colWidth","frame","width","gutterX","index","val1","Math","trunc","x","i","push","createGrid","currentWidth","group","name","parent","y","height","length","columnWidth","Number","columnX","column","style","fills","borders","thickness","opacity","outsideGutter","message","unshift","type","min","selectedCount","options","colAmountMessage","colAmountIsNan","gutterWidthMessage","gutterWidthIsNaN","complete","getInputFromUser","INPUT_TYPE","selection","possibleValues","err","value","initialValue","isNaN"],"mappings":"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","file":"column.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/column.js\");\n","import sketch from \"sketch\";\nimport main from \"./main\";\n\nexport default function() {\n  var Shape = require(\"sketch/dom\").Shape;\n  var UI = require(\"sketch/ui\");\n  var document = sketch.getSelectedDocument();\n  var Group = require(\"sketch/dom\").Group;\n  var selectedLayers = document.selectedLayers;\n  var Main = main(\"COLUMNS\", -1);\n\n  selectedLayers.forEach(item => {\n    var gutterXList = [];\n\n    var calGutterX = (num, val) => {\n      var gutterAmount = parseInt(Main.colAmount) + num;\n      var totalWidth = Main.gutterWidth * gutterAmount;\n      var colWidth =\n        (item.frame.width - gutterAmount * Main.gutterWidth) / Main.colAmount;\n\n      var gutterX = (index, val1) => {\n        return Math.trunc(\n          item.frame.x + Main.gutterWidth * index + colWidth * (index + val1)\n        );\n      };\n\n      for (var i = 0; i < gutterAmount; i++) {\n        gutterXList.push(gutterX(i, val));\n      }\n      return totalWidth;\n    };\n\n    var createGrid = val => {\n      var currentWidth = 0;\n\n      var group = new Group({\n        name: \"Columns\",\n        parent: item.parent\n      });\n      group.frame.x = item.frame.x;\n      group.frame.y = item.frame.y;\n      group.frame.width = item.frame.width;\n      group.frame.height = item.frame.height;\n\n      for (var i = 0; i < gutterXList.length - 1; i++) {\n        var columnWidth =\n          gutterXList[i + 1] - gutterXList[i] - Number(Main.gutterWidth);\n        currentWidth = currentWidth + columnWidth;\n        var columnX = Main.gutterWidth * i + currentWidth - columnWidth + val;\n\n        var column = new Shape({\n          name: \"Column\",\n          parent: group,\n          frame: {\n            height: item.frame.height,\n            x: columnX,\n            width: columnWidth,\n            y: 0\n          },\n          style: {\n            fills: [\"#00A2FF\"],\n            borders: [{ thickness: 0 }]\n          }\n        });\n\n        if (i % 2 == 0) {\n          column.style.opacity = 0.4;\n        } else column.style.opacity = 0.5;\n      }\n    };\n\n    if (Main.outsideGutter === \"Yes\") {\n      if (item.frame.width > calGutterX(1, 0)) {\n        createGrid(Number(Main.gutterWidth));\n      } else {\n        return UI.message(\"Gutters are too big for \" + item.name);\n      }\n    }\n\n    if (Main.outsideGutter === \"No\") {\n      if (item.frame.width > calGutterX(-1, 1)) {\n        gutterXList.unshift(item.frame.x - Main.gutterWidth);\n        gutterXList.push(item.frame.x + item.frame.width);\n        createGrid(0);\n      } else {\n        return UI.message(\"Gutters are too big for \" + item.name);\n      }\n    }\n  });\n}\n","import sketch from \"sketch\";\n\nexport default function(type, min) {\n  var document = sketch.getSelectedDocument();\n  var selectedLayers = document.selectedLayers;\n  var selectedCount = selectedLayers.length;\n  var UI = require(\"sketch/ui\");\n  var options = [\"Yes\", \"No\"];\n  var outsideGutter = null;\n  var colAmountMessage = \"Column amount\";\n  var colAmount = 12;\n  var colAmountIsNan = true;\n  var gutterWidthMessage = \"Gutter width\";\n  var gutterWidth = 12;\n  var gutterWidthIsNaN = true;\n  var complete = true;\n\n  if (selectedCount === 0) {\n    return UI.message(\"Select a layer\");\n  }\n\n  UI.getInputFromUser(\n    type + \" - Gutters on the outside?\",\n    {\n      type: UI.INPUT_TYPE.selection,\n      possibleValues: options\n    },\n    (err, value) => {\n      if (err) {\n        complete = false;\n        return;\n      }\n      outsideGutter = value;\n    }\n  );\n\n  if (complete === true) {\n    while (colAmountIsNan) {\n      UI.getInputFromUser(\n        colAmountMessage,\n        {\n          initialValue: colAmount\n        },\n        (err, value) => {\n          if (err) {\n            complete = false;\n            colAmountIsNan = false;\n            colAmount = 12;\n            return;\n          }\n          colAmount = value;\n          colAmountMessage = \"Column amount - is not a number\";\n        }\n      );\n\n      if (!isNaN(colAmount)) {\n        colAmountIsNan = false;\n      }\n\n      if (colAmount <= 0) {\n        colAmountMessage = \"Column amount - enter a number above 0\";\n        colAmountIsNan = true;\n      }\n    }\n\n    if (complete === true) {\n      while (gutterWidthIsNaN) {\n        UI.getInputFromUser(\n          gutterWidthMessage,\n          {\n            initialValue: gutterWidth\n          },\n          (err, value) => {\n            if (err) {\n              complete = false;\n              gutterWidthIsNaN = false;\n              gutterWidth = 12;\n              return;\n            }\n            gutterWidth = value;\n            gutterWidthMessage = \"Gutter width - is not a number\";\n          }\n        );\n\n        if (!isNaN(gutterWidth)) {\n          gutterWidthIsNaN = false;\n        }\n        if (gutterWidth <= min) {\n          var message = null;\n          if (min == 0) {\n            message = \"Gutter width - enter a number above 0\";\n          } else {\n            message = \"Gutter width - enter a positive number\";\n          }\n          gutterWidthMessage = message;\n          gutterWidthIsNaN = true;\n        }\n      }\n    }\n  }\n\n  return {\n    outsideGutter,\n    colAmount,\n    gutterWidth,\n    complete\n  };\n}\n","module.exports = require(\"sketch\");","module.exports = require(\"sketch/dom\");","module.exports = require(\"sketch/ui\");"],"sourceRoot":""}